<?xml version="1.0"?>
<launch>

  <arg name="sim" default="true" />
  <arg name="robot_ip" unless="$(arg sim)"  default ="10.0.0.99"/>
  <arg name="debug" default="false" />
  <arg name="limited" default="true" />
  
  <!-- simulation -->
  <group if="$(arg sim)">    
    <include file="$(find push_vs_grasp)/launch/gazebo.launch"/>    
    <include file="$(find push_vs_grasp)/launch/spawn_table.launch"/>
    <include file="$(find push_vs_grasp)/launch/spawn_kinect.launch"/>
    <include file="$(find push_vs_grasp)/launch/ur5.launch"/>
    <include file="$(find push_vs_grasp)/launch/spawn_objects.launch"/>
    <include file="$(find kinect_segmentation)/launch/segment_tabletop.launch"/>
        
  </group>

  <!-- real Robot -->
  <group unless="$(arg sim)">
    <include file="$(find ur_modern_driver)/launch/ur5_bringup.launch">
      <arg name="robot_ip" value="$(arg robot_ip)" />
    </include>
    <!--<include file="$(find openni_launch)/launch/openni.launch"/>-->
    <!--<include file="$(find kinect_segmentation)/launch/segment_tabletop.launch"/>-->    
  </group>
  
  <!-- moveit -->
  <include file="$(find ur5_moveit_config)/launch/ur5_moveit_planning_execution.launch">
      <arg name="sim" default="$(arg sim)"/>
  </include>

  <!-- rviz -->
  <!-- <include file="$(find push_vs_grasp)/launch/rviz.launch"> -->
  <!-- <include file="$(find push_vs_grasp)/testing/ur5_and_gripper_moveit_config/launch/moveit_rviz.launch"> -->
  <include file="$(find push_vs_grasp)/launch/rviz.launch">
    <arg name="config" default="true"/>
  </include>
  
</launch>
